import { type CompanyCategory, categoryColors, categoryLabels } from "./categories";

export { type CompanyCategory, categoryColors, categoryLabels } from "./categories";
export { sectorPerformance } from "./categories";

export interface Company {
  id: string;
  name: string;
  ticker: string;
  categories: CompanyCategory[];
  description: string;
  marketCap: number;
  currentPrice: number;
  priceChange: number;
  priceHistory: number[];
  revenue: number;
  earnings: number;
  grossMargin: number;
  peRatio: number;
  suppliers: string[];
  customers: string[];
  riskScore: number;
  dependencyCount: number;
  totalDebt: number;
  preferredStock: number;
  minorityInterest: number;
  cashAndEquivalents: number;
  competitivePosition: {
    position: "monopoly" | "duopoly" | "market-leader" | "strong-challenger" | "niche-specialist" | "emerging-contender";
    marketSharePercent: number;
    competitors: string[];
    moat: string;
    trend: "strengthening" | "stable" | "weakening";
  };
}

function generatePriceHistory(basePrice: number, volatility: number): number[] {
  const history: number[] = [];
  let price = basePrice * (1 - volatility * 0.15);
  for (let i = 0; i < 30; i++) {
    price += (Math.random() - 0.48) * basePrice * volatility * 0.03;
    price = Math.max(price, basePrice * 0.7);
    history.push(Math.round(price * 100) / 100);
  }
  return history;
}

export const companies: Company[] = [
  // ─── 1. Chip Designers / AI Accelerators ───
  {
    id: "nvda", name: "NVIDIA", ticker: "NVDA", categories: ["chip-designers"],
    description: "Leading GPU and AI accelerator designer",
    marketCap: 3200, currentPrice: 131.28, priceChange: 2.4,
    priceHistory: generatePriceHistory(131.28, 0.8),
    revenue: 130.5, earnings: 72.9, grossMargin: 75.0, peRatio: 43.9,
    suppliers: ["tsmc", "asml", "amat", "lrcx", "skhynix", "mu"],
    customers: ["amzn", "googl", "msft", "orcl", "smci", "dell", "hpe"],
    riskScore: 15, dependencyCount: 7,
    totalDebt: 11.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 31.4,
    competitivePosition: { position: "market-leader", marketSharePercent: 80, competitors: ["amd", "intc", "avgo"], moat: "Dominant AI accelerator platform with CUDA ecosystem lock-in", trend: "strengthening" },
  },
  {
    id: "amd", name: "AMD", ticker: "AMD", categories: ["chip-designers"],
    description: "CPU and GPU designer for data center and consumer markets",
    marketCap: 195, currentPrice: 120.50, priceChange: -1.2,
    priceHistory: generatePriceHistory(120.50, 0.7),
    revenue: 25.8, earnings: 5.4, grossMargin: 52.0, peRatio: 36.1,
    suppliers: ["tsmc", "asml", "amat", "skhynix"],
    customers: ["amzn", "googl", "msft", "dell", "hpe"],
    riskScore: 25, dependencyCount: 5,
    totalDebt: 2.3, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 5.8,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 20, competitors: ["nvda", "intc"], moat: "Rapidly gaining data center GPU share with competitive MI-series accelerators", trend: "strengthening" },
  },
  {
    id: "intc", name: "Intel", ticker: "INTC", categories: ["chip-designers", "foundries"],
    description: "Integrated chip designer and manufacturer",
    marketCap: 95, currentPrice: 22.15, priceChange: -3.8,
    priceHistory: generatePriceHistory(22.15, 1.2),
    revenue: 54.2, earnings: -1.6, grossMargin: 41.5, peRatio: -59.4,
    suppliers: ["asml", "amat", "lrcx"],
    customers: ["msft", "amzn", "googl", "dell", "hpe"],
    riskScore: 65, dependencyCount: 5,
    totalDebt: 48.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 24.1,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 12, competitors: ["nvda", "amd", "avgo"], moat: "Vertically integrated fab + design, but losing process node leadership", trend: "weakening" },
  },
  {
    id: "avgo", name: "Broadcom", ticker: "AVGO", categories: ["chip-designers", "networking"],
    description: "Diversified semiconductor and infrastructure software",
    marketCap: 820, currentPrice: 178.90, priceChange: 1.1,
    priceHistory: generatePriceHistory(178.90, 0.5),
    revenue: 51.6, earnings: 16.2, grossMargin: 68.0, peRatio: 50.6,
    suppliers: ["tsmc", "asml"],
    customers: ["amzn", "googl", "msft", "orcl"],
    riskScore: 20, dependencyCount: 4,
    totalDebt: 74.5, preferredStock: 0, minorityInterest: 0.8, cashAndEquivalents: 9.8,
    competitivePosition: { position: "market-leader", marketSharePercent: 35, competitors: ["nvda", "qcom", "mrvl"], moat: "Dominant custom ASIC provider for hyperscalers plus VMware software moat", trend: "strengthening" },
  },
  {
    id: "mrvl", name: "Marvell Technology", ticker: "MRVL", categories: ["chip-designers", "networking"],
    description: "Data infrastructure semiconductor solutions",
    marketCap: 78, currentPrice: 90.20, priceChange: 1.8,
    priceHistory: generatePriceHistory(90.20, 0.7),
    revenue: 5.9, earnings: 0.8, grossMargin: 48.0, peRatio: 97.5,
    suppliers: ["tsmc", "asml"],
    customers: ["amzn", "googl", "msft"],
    riskScore: 28, dependencyCount: 3,
    totalDebt: 4.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.1,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 10, competitors: ["avgo", "nvda"], moat: "Custom silicon and electro-optics for cloud/5G data infrastructure", trend: "strengthening" },
  },
  {
    id: "qcom", name: "Qualcomm", ticker: "QCOM", categories: ["chip-designers"],
    description: "Mobile and edge AI chip designer",
    marketCap: 185, currentPrice: 165.70, priceChange: 0.5,
    priceHistory: generatePriceHistory(165.70, 0.6),
    revenue: 42.1, earnings: 11.8, grossMargin: 56.0, peRatio: 15.7,
    suppliers: ["tsmc", "asml"],
    customers: [],
    riskScore: 30, dependencyCount: 0,
    totalDebt: 16.4, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 13.3,
    competitivePosition: { position: "market-leader", marketSharePercent: 75, competitors: ["avgo"], moat: "Near-monopoly in mobile SoCs with essential 5G patent portfolio", trend: "stable" },
  },

  // ─── 2. Chip IP / Licensing ───
  {
    id: "arm", name: "Arm Holdings", ticker: "ARM", categories: ["chip-ip"],
    description: "Dominant CPU architecture licensor for mobile and data center",
    marketCap: 165, currentPrice: 160.50, priceChange: 2.1,
    priceHistory: generatePriceHistory(160.50, 0.8),
    revenue: 3.2, earnings: 0.9, grossMargin: 96.0, peRatio: 183.3,
    suppliers: [],
    customers: ["nvda", "amd", "qcom", "avgo", "mrvl"],
    riskScore: 10, dependencyCount: 5,
    totalDebt: 0.3, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 2.8,
    competitivePosition: { position: "monopoly", marketSharePercent: 99, competitors: [], moat: "Near-total dominance in mobile CPU architecture, expanding rapidly into data center", trend: "strengthening" },
  },
  {
    id: "rmbs", name: "Rambus", ticker: "RMBS", categories: ["chip-ip"],
    description: "High-performance memory interface and security IP",
    marketCap: 8.5, currentPrice: 62.30, priceChange: 0.4,
    priceHistory: generatePriceHistory(62.30, 0.6),
    revenue: 0.55, earnings: 0.18, grossMargin: 78.0, peRatio: 47.2,
    suppliers: [],
    customers: ["skhynix", "mu", "samsung"],
    riskScore: 20, dependencyCount: 3,
    totalDebt: 0.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.4,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 60, competitors: [], moat: "Critical memory interface IP and patents for HBM/DDR standards", trend: "strengthening" },
  },

  // ─── 3. EDA Software ───
  {
    id: "cdns", name: "Cadence Design Systems", ticker: "CDNS", categories: ["eda"],
    description: "Electronic design automation tools for chip development",
    marketCap: 82, currentPrice: 300.40, priceChange: 0.6,
    priceHistory: generatePriceHistory(300.40, 0.5),
    revenue: 4.5, earnings: 1.3, grossMargin: 89.0, peRatio: 63.1,
    suppliers: [],
    customers: ["nvda", "amd", "avgo", "qcom", "mrvl", "tsmc"],
    riskScore: 8, dependencyCount: 6,
    totalDebt: 1.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.2,
    competitivePosition: { position: "duopoly", marketSharePercent: 32, competitors: ["snps"], moat: "Duopoly EDA provider with deep verification and custom IC design tools", trend: "stable" },
  },
  {
    id: "snps", name: "Synopsys", ticker: "SNPS", categories: ["eda"],
    description: "Largest EDA tools and semiconductor IP provider",
    marketCap: 90, currentPrice: 580.20, priceChange: 0.3,
    priceHistory: generatePriceHistory(580.20, 0.5),
    revenue: 6.1, earnings: 1.8, grossMargin: 80.0, peRatio: 50.0,
    suppliers: [],
    customers: ["nvda", "amd", "avgo", "qcom", "mrvl", "tsmc", "intc"],
    riskScore: 8, dependencyCount: 7,
    totalDebt: 2.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.8,
    competitivePosition: { position: "duopoly", marketSharePercent: 35, competitors: ["cdns"], moat: "Largest EDA vendor with dominant synthesis/place-and-route and IP licensing", trend: "stable" },
  },
  {
    id: "siemens-eda", name: "Siemens EDA", ticker: "SIE.DE", categories: ["eda"],
    description: "Mentor Graphics EDA division of Siemens",
    marketCap: 145, currentPrice: 195.30, priceChange: -0.2,
    priceHistory: generatePriceHistory(195.30, 0.3),
    revenue: 2.1, earnings: 0.5, grossMargin: 72.0, peRatio: 290.0,
    suppliers: [],
    customers: ["intc", "tsmc"],
    riskScore: 12, dependencyCount: 2,
    totalDebt: 35.0, preferredStock: 0, minorityInterest: 2.5, cashAndEquivalents: 10.5,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 12, competitors: ["cdns", "snps"], moat: "Strong PCB and IC packaging design tools within Siemens industrial ecosystem", trend: "stable" },
  },

  // ─── 4. Foundries ───
  {
    id: "tsmc", name: "TSMC", ticker: "TSM", categories: ["foundries"],
    description: "World's largest semiconductor foundry",
    marketCap: 950, currentPrice: 183.50, priceChange: 1.8,
    priceHistory: generatePriceHistory(183.50, 0.5),
    revenue: 87.1, earnings: 35.7, grossMargin: 57.0, peRatio: 26.6,
    suppliers: ["asml", "amat", "lrcx", "klac", "tel", "asmi", "shinetsu", "sumco", "entg"],
    customers: ["nvda", "amd", "avgo", "qcom", "mrvl", "arm"],
    riskScore: 8, dependencyCount: 6,
    totalDebt: 28.3, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 52.7,
    competitivePosition: { position: "monopoly", marketSharePercent: 90, competitors: ["samsung", "intc", "gfs"], moat: "Dominant advanced-node foundry — sole manufacturer of leading-edge chips", trend: "strengthening" },
  },
  {
    id: "samsung", name: "Samsung Electronics", ticker: "005930.KS", categories: ["foundries", "memory"],
    description: "Integrated semiconductor manufacturer and memory leader",
    marketCap: 320, currentPrice: 52.80, priceChange: -0.9,
    priceHistory: generatePriceHistory(52.80, 0.6),
    revenue: 210.0, earnings: 18.5, grossMargin: 38.0, peRatio: 17.3,
    suppliers: ["asml", "amat", "lrcx", "klac", "tel"],
    customers: ["nvda", "amd", "qcom"],
    riskScore: 22, dependencyCount: 3,
    totalDebt: 15.8, preferredStock: 0, minorityInterest: 1.2, cashAndEquivalents: 65.0,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 12, competitors: ["tsmc", "skhynix", "mu"], moat: "Vertically integrated foundry + memory with HBM capacity ramp", trend: "stable" },
  },
  {
    id: "gfs", name: "GlobalFoundries", ticker: "GFS", categories: ["foundries"],
    description: "Specialty and mature-node semiconductor foundry",
    marketCap: 28, currentPrice: 42.50, priceChange: -1.5,
    priceHistory: generatePriceHistory(42.50, 0.8),
    revenue: 7.4, earnings: 0.7, grossMargin: 26.0, peRatio: 40.0,
    suppliers: ["asml", "amat", "lrcx"],
    customers: ["amd", "qcom"],
    riskScore: 35, dependencyCount: 2,
    totalDebt: 2.4, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 2.3,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 5, competitors: ["tsmc", "samsung"], moat: "Focused on specialty nodes for automotive, IoT, and RF applications", trend: "stable" },
  },

  // ─── 5. Memory ───
  {
    id: "skhynix", name: "SK hynix", ticker: "000660.KS", categories: ["memory"],
    description: "Leading HBM and DRAM memory manufacturer",
    marketCap: 95, currentPrice: 130.00, priceChange: 2.8,
    priceHistory: generatePriceHistory(130.00, 0.9),
    revenue: 42.5, earnings: 12.8, grossMargin: 45.0, peRatio: 7.4,
    suppliers: ["asml", "amat", "lrcx", "tel", "shinetsu"],
    customers: ["nvda", "amd"],
    riskScore: 18, dependencyCount: 2,
    totalDebt: 18.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 8.2,
    competitivePosition: { position: "market-leader", marketSharePercent: 50, competitors: ["samsung", "mu"], moat: "First-mover in HBM3E, dominant NVIDIA supplier for AI memory", trend: "strengthening" },
  },
  {
    id: "mu", name: "Micron Technology", ticker: "MU", categories: ["memory"],
    description: "DRAM and NAND flash memory manufacturer",
    marketCap: 115, currentPrice: 105.20, priceChange: -0.7,
    priceHistory: generatePriceHistory(105.20, 0.8),
    revenue: 29.5, earnings: 5.8, grossMargin: 35.0, peRatio: 19.8,
    suppliers: ["asml", "amat", "lrcx", "tel", "shinetsu"],
    customers: ["nvda", "amd", "dell", "hpe"],
    riskScore: 25, dependencyCount: 4,
    totalDebt: 12.1, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 8.7,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 22, competitors: ["skhynix", "samsung"], moat: "US-based memory manufacturer with growing HBM capacity and CHIPS Act support", trend: "strengthening" },
  },

  // ─── 6. Semiconductor Equipment ───
  {
    id: "asml", name: "ASML", ticker: "ASML", categories: ["semi-equipment"],
    description: "Monopoly provider of EUV lithography machines",
    marketCap: 340, currentPrice: 850.00, priceChange: -0.9,
    priceHistory: generatePriceHistory(850.00, 0.6),
    revenue: 30.1, earnings: 9.3, grossMargin: 51.0, peRatio: 36.6,
    suppliers: [],
    customers: ["tsmc", "intc", "samsung", "skhynix", "mu"],
    riskScore: 10, dependencyCount: 5,
    totalDebt: 5.1, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 4.9,
    competitivePosition: { position: "monopoly", marketSharePercent: 100, competitors: [], moat: "Sole EUV lithography provider globally — no viable alternative exists", trend: "stable" },
  },
  {
    id: "amat", name: "Applied Materials", ticker: "AMAT", categories: ["semi-equipment"],
    description: "Leading semiconductor equipment manufacturer",
    marketCap: 155, currentPrice: 187.20, priceChange: 0.3,
    priceHistory: generatePriceHistory(187.20, 0.5),
    revenue: 27.2, earnings: 7.4, grossMargin: 47.5, peRatio: 20.9,
    suppliers: [],
    customers: ["tsmc", "intc", "samsung", "skhynix", "mu"],
    riskScore: 15, dependencyCount: 5,
    totalDebt: 5.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 7.5,
    competitivePosition: { position: "duopoly", marketSharePercent: 45, competitors: ["lrcx", "klac", "tel"], moat: "Broadest semiconductor equipment portfolio across deposition, etch, and inspection", trend: "stable" },
  },
  {
    id: "lrcx", name: "Lam Research", ticker: "LRCX", categories: ["semi-equipment"],
    description: "Etch and deposition equipment for chip fabrication",
    marketCap: 110, currentPrice: 82.50, priceChange: -0.6,
    priceHistory: generatePriceHistory(82.50, 0.6),
    revenue: 16.8, earnings: 4.6, grossMargin: 47.0, peRatio: 23.9,
    suppliers: [],
    customers: ["tsmc", "intc", "samsung", "skhynix"],
    riskScore: 18, dependencyCount: 4,
    totalDebt: 5.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 5.6,
    competitivePosition: { position: "duopoly", marketSharePercent: 40, competitors: ["amat", "tel"], moat: "Leading etch equipment provider critical to advanced chip manufacturing", trend: "stable" },
  },
  {
    id: "klac", name: "KLA Corporation", ticker: "KLAC", categories: ["semi-equipment"],
    description: "Process control and yield management equipment",
    marketCap: 95, currentPrice: 700.10, priceChange: 0.5,
    priceHistory: generatePriceHistory(700.10, 0.5),
    revenue: 10.8, earnings: 3.5, grossMargin: 61.0, peRatio: 27.1,
    suppliers: [],
    customers: ["tsmc", "intc", "samsung", "skhynix"],
    riskScore: 12, dependencyCount: 4,
    totalDebt: 6.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 3.5,
    competitivePosition: { position: "market-leader", marketSharePercent: 55, competitors: ["amat"], moat: "Dominant process control/inspection with no close competitor in advanced defect detection", trend: "stable" },
  },
  {
    id: "tel", name: "Tokyo Electron", ticker: "8035.T", categories: ["semi-equipment"],
    description: "Major Japanese semiconductor equipment supplier",
    marketCap: 85, currentPrice: 180.50, priceChange: -0.4,
    priceHistory: generatePriceHistory(180.50, 0.5),
    revenue: 16.2, earnings: 4.0, grossMargin: 44.0, peRatio: 21.3,
    suppliers: [],
    customers: ["tsmc", "samsung", "skhynix", "mu"],
    riskScore: 15, dependencyCount: 4,
    totalDebt: 1.8, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 5.2,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 25, competitors: ["amat", "lrcx"], moat: "Top-3 global equipment vendor with strong coater/developer and etch tools", trend: "stable" },
  },
  {
    id: "asmi", name: "ASM International", ticker: "ASM.AS", categories: ["semi-equipment"],
    description: "ALD and epitaxy deposition equipment specialist",
    marketCap: 32, currentPrice: 650.00, priceChange: 1.2,
    priceHistory: generatePriceHistory(650.00, 0.6),
    revenue: 2.8, earnings: 0.8, grossMargin: 52.0, peRatio: 40.0,
    suppliers: [],
    customers: ["tsmc", "samsung", "intc"],
    riskScore: 14, dependencyCount: 3,
    totalDebt: 0.3, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.7,
    competitivePosition: { position: "market-leader", marketSharePercent: 55, competitors: ["amat"], moat: "Dominant ALD equipment provider critical for advanced gate-all-around transistors", trend: "strengthening" },
  },

  // ─── 7. Advanced Packaging & Assembly (OSAT) ───
  {
    id: "aset", name: "ASE Technology", ticker: "ASX", categories: ["packaging-assembly"],
    description: "Largest outsourced semiconductor assembly and test company",
    marketCap: 22, currentPrice: 11.20, priceChange: 0.3,
    priceHistory: generatePriceHistory(11.20, 0.5),
    revenue: 19.5, earnings: 1.4, grossMargin: 18.0, peRatio: 15.7,
    suppliers: ["amat"],
    customers: ["nvda", "amd", "qcom"],
    riskScore: 22, dependencyCount: 3,
    totalDebt: 4.5, preferredStock: 0, minorityInterest: 0.5, cashAndEquivalents: 3.2,
    competitivePosition: { position: "market-leader", marketSharePercent: 30, competitors: ["amkr", "jcet"], moat: "Largest OSAT with advanced 2.5D/3D packaging capability for AI chips", trend: "strengthening" },
  },
  {
    id: "amkr", name: "Amkor Technology", ticker: "AMKR", categories: ["packaging-assembly"],
    description: "Advanced semiconductor packaging and test services",
    marketCap: 6.5, currentPrice: 26.40, priceChange: -0.8,
    priceHistory: generatePriceHistory(26.40, 0.7),
    revenue: 6.3, earnings: 0.4, grossMargin: 15.0, peRatio: 16.3,
    suppliers: ["amat"],
    customers: ["qcom", "nvda"],
    riskScore: 30, dependencyCount: 2,
    totalDebt: 1.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.9,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 15, competitors: ["aset", "jcet"], moat: "Strong US-based OSAT with growing advanced packaging for Apple and AI chips", trend: "stable" },
  },
  {
    id: "jcet", name: "JCET Group", ticker: "600584.SS", categories: ["packaging-assembly"],
    description: "Major Chinese semiconductor packaging and test provider",
    marketCap: 5.0, currentPrice: 8.50, priceChange: -1.2,
    priceHistory: generatePriceHistory(8.50, 0.8),
    revenue: 4.8, earnings: 0.2, grossMargin: 12.0, peRatio: 25.0,
    suppliers: ["amat"],
    customers: ["qcom"],
    riskScore: 45, dependencyCount: 1,
    totalDebt: 2.1, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.6,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 8, competitors: ["aset", "amkr"], moat: "Largest Chinese OSAT leveraging domestic demand growth", trend: "stable" },
  },

  // ─── 8. ABF Substrates / PCB ───
  {
    id: "ibiden", name: "Ibiden", ticker: "4062.T", categories: ["substrates-pcb"],
    description: "Leading ABF substrate manufacturer for advanced chips",
    marketCap: 8.2, currentPrice: 42.10, priceChange: -0.5,
    priceHistory: generatePriceHistory(42.10, 0.6),
    revenue: 3.8, earnings: 0.4, grossMargin: 28.0, peRatio: 20.5,
    suppliers: [],
    customers: ["intc", "nvda", "amd"],
    riskScore: 25, dependencyCount: 3,
    totalDebt: 0.8, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.9,
    competitivePosition: { position: "duopoly", marketSharePercent: 35, competitors: ["unimicron"], moat: "Top ABF substrate maker critical for advanced CPU/GPU packaging", trend: "stable" },
  },
  {
    id: "unimicron", name: "Unimicron", ticker: "3037.TW", categories: ["substrates-pcb"],
    description: "Major IC substrate and PCB manufacturer",
    marketCap: 7.5, currentPrice: 18.60, priceChange: 0.2,
    priceHistory: generatePriceHistory(18.60, 0.6),
    revenue: 3.2, earnings: 0.35, grossMargin: 25.0, peRatio: 21.4,
    suppliers: [],
    customers: ["intc", "nvda", "tsmc"],
    riskScore: 22, dependencyCount: 3,
    totalDebt: 1.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.5,
    competitivePosition: { position: "duopoly", marketSharePercent: 30, competitors: ["ibiden"], moat: "Major ABF substrate supplier tied to TSMC advanced packaging ecosystem", trend: "strengthening" },
  },
  {
    id: "nanyapcb", name: "Nan Ya PCB", ticker: "8046.TW", categories: ["substrates-pcb"],
    description: "PCB and IC substrate subsidiary of Formosa Plastics",
    marketCap: 5.0, currentPrice: 15.40, priceChange: -0.3,
    priceHistory: generatePriceHistory(15.40, 0.5),
    revenue: 2.1, earnings: 0.2, grossMargin: 20.0, peRatio: 25.0,
    suppliers: [],
    customers: ["intc", "amd"],
    riskScore: 28, dependencyCount: 2,
    totalDebt: 0.6, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.3,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 10, competitors: ["ibiden", "unimicron"], moat: "Formosa group backing with established substrate and HDI PCB capacity", trend: "stable" },
  },
  {
    id: "ttmi", name: "TTM Technologies", ticker: "TTMI", categories: ["substrates-pcb"],
    description: "US-based PCB and RF component manufacturer",
    marketCap: 3.5, currentPrice: 22.80, priceChange: -0.6,
    priceHistory: generatePriceHistory(22.80, 0.6),
    revenue: 2.2, earnings: 0.15, grossMargin: 22.0, peRatio: 23.3,
    suppliers: [],
    customers: ["intc"],
    riskScore: 32, dependencyCount: 1,
    totalDebt: 1.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.4,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 5, competitors: ["ibiden", "unimicron"], moat: "US-based PCB maker with defense/aerospace clearances", trend: "stable" },
  },

  // ─── 9. Silicon Wafers ───
  {
    id: "shinetsu", name: "Shin-Etsu Chemical", ticker: "4063.T", categories: ["silicon-wafers"],
    description: "World's largest silicon wafer manufacturer",
    marketCap: 75, currentPrice: 42.50, priceChange: 0.2,
    priceHistory: generatePriceHistory(42.50, 0.4),
    revenue: 18.5, earnings: 5.2, grossMargin: 42.0, peRatio: 14.4,
    suppliers: [],
    customers: ["tsmc", "samsung", "intc", "skhynix", "mu"],
    riskScore: 10, dependencyCount: 5,
    totalDebt: 0.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 12.0,
    competitivePosition: { position: "market-leader", marketSharePercent: 32, competitors: ["sumco", "globalwafers", "siltronic"], moat: "Largest and most profitable silicon wafer maker with unmatched 300mm capacity", trend: "stable" },
  },
  {
    id: "sumco", name: "SUMCO", ticker: "3436.T", categories: ["silicon-wafers"],
    description: "Major silicon wafer producer",
    marketCap: 5.5, currentPrice: 15.20, priceChange: -0.8,
    priceHistory: generatePriceHistory(15.20, 0.6),
    revenue: 3.1, earnings: 0.3, grossMargin: 28.0, peRatio: 18.3,
    suppliers: [],
    customers: ["tsmc", "samsung", "intc"],
    riskScore: 20, dependencyCount: 3,
    totalDebt: 0.8, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.5,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 25, competitors: ["shinetsu", "globalwafers", "siltronic"], moat: "Second-largest silicon wafer producer with strong TSMC relationship", trend: "stable" },
  },
  {
    id: "globalwafers", name: "GlobalWafers", ticker: "6488.TW", categories: ["silicon-wafers"],
    description: "Third-largest silicon wafer manufacturer globally",
    marketCap: 8.0, currentPrice: 14.80, priceChange: -0.4,
    priceHistory: generatePriceHistory(14.80, 0.5),
    revenue: 2.5, earnings: 0.35, grossMargin: 30.0, peRatio: 22.9,
    suppliers: [],
    customers: ["tsmc", "samsung"],
    riskScore: 22, dependencyCount: 2,
    totalDebt: 1.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.6,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 17, competitors: ["shinetsu", "sumco", "siltronic"], moat: "Consolidator in silicon wafer market with diverse global production base", trend: "stable" },
  },
  {
    id: "siltronic", name: "Siltronic", ticker: "WAF.DE", categories: ["silicon-wafers"],
    description: "German silicon wafer manufacturer",
    marketCap: 3.2, currentPrice: 68.40, priceChange: -1.0,
    priceHistory: generatePriceHistory(68.40, 0.6),
    revenue: 1.5, earnings: 0.12, grossMargin: 24.0, peRatio: 26.7,
    suppliers: [],
    customers: ["tsmc", "intc"],
    riskScore: 28, dependencyCount: 2,
    totalDebt: 0.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.3,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 10, competitors: ["shinetsu", "sumco", "globalwafers"], moat: "European silicon wafer producer with 300mm FZ wafer specialty", trend: "stable" },
  },

  // ─── 10. Semiconductor Materials & Gases ───
  {
    id: "entg", name: "Entegris", ticker: "ENTG", categories: ["semi-materials"],
    description: "Specialty chemicals and materials for semiconductor fabs",
    marketCap: 18, currentPrice: 120.50, priceChange: 0.4,
    priceHistory: generatePriceHistory(120.50, 0.5),
    revenue: 3.6, earnings: 0.5, grossMargin: 45.0, peRatio: 36.0,
    suppliers: [],
    customers: ["tsmc", "samsung", "intc", "skhynix", "mu"],
    riskScore: 15, dependencyCount: 5,
    totalDebt: 5.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.6,
    competitivePosition: { position: "market-leader", marketSharePercent: 30, competitors: ["lin", "ai-liquide"], moat: "Critical contamination control and advanced materials for leading-edge fabs", trend: "strengthening" },
  },
  {
    id: "ai-liquide", name: "Air Liquide", ticker: "AI.PA", categories: ["semi-materials"],
    description: "Industrial gases including ultra-high purity gases for fabs",
    marketCap: 95, currentPrice: 185.20, priceChange: 0.1,
    priceHistory: generatePriceHistory(185.20, 0.3),
    revenue: 28.5, earnings: 3.5, grossMargin: 34.0, peRatio: 27.1,
    suppliers: [],
    customers: ["tsmc", "samsung", "intc", "skhynix"],
    riskScore: 10, dependencyCount: 4,
    totalDebt: 12.5, preferredStock: 0, minorityInterest: 0.2, cashAndEquivalents: 3.8,
    competitivePosition: { position: "duopoly", marketSharePercent: 25, competitors: ["lin"], moat: "Top-2 industrial gas supplier with on-site fab gas supply contracts", trend: "stable" },
  },
  {
    id: "lin", name: "Linde plc", ticker: "LIN", categories: ["semi-materials"],
    description: "World's largest industrial gas company",
    marketCap: 210, currentPrice: 440.30, priceChange: 0.3,
    priceHistory: generatePriceHistory(440.30, 0.3),
    revenue: 33.0, earnings: 6.8, grossMargin: 44.0, peRatio: 30.9,
    suppliers: [],
    customers: ["tsmc", "samsung", "intc", "skhynix", "mu"],
    riskScore: 8, dependencyCount: 5,
    totalDebt: 16.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 5.2,
    competitivePosition: { position: "duopoly", marketSharePercent: 30, competitors: ["ai-liquide"], moat: "Largest industrial gas company with critical ultra-pure gas supply for chip fabs", trend: "stable" },
  },
  {
    id: "jsr", name: "JSR Corporation", ticker: "4185.T", categories: ["semi-materials"],
    description: "Photoresist and advanced materials for lithography",
    marketCap: 8.5, currentPrice: 32.50, priceChange: -0.5,
    priceHistory: generatePriceHistory(32.50, 0.5),
    revenue: 3.2, earnings: 0.3, grossMargin: 35.0, peRatio: 28.3,
    suppliers: [],
    customers: ["tsmc", "samsung", "intc"],
    riskScore: 18, dependencyCount: 3,
    totalDebt: 1.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.8,
    competitivePosition: { position: "market-leader", marketSharePercent: 28, competitors: ["tok"], moat: "Leading EUV photoresist supplier critical to advanced lithography", trend: "stable" },
  },
  {
    id: "tok", name: "Tokyo Ohka Kogyo", ticker: "4186.T", categories: ["semi-materials"],
    description: "Photoresist materials and equipment for semiconductor fabrication",
    marketCap: 3.5, currentPrice: 42.80, priceChange: -0.2,
    priceHistory: generatePriceHistory(42.80, 0.4),
    revenue: 1.5, earnings: 0.18, grossMargin: 38.0, peRatio: 19.4,
    suppliers: [],
    customers: ["tsmc", "samsung"],
    riskScore: 20, dependencyCount: 2,
    totalDebt: 0.3, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.5,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 20, competitors: ["jsr"], moat: "Second-largest photoresist maker with deep TSMC integration", trend: "stable" },
  },

  // ─── 11. Optical / Transceivers ───
  {
    id: "cohr", name: "Coherent Corp.", ticker: "COHR", categories: ["optical-transceivers"],
    description: "Optical and photonic components for data center interconnects",
    marketCap: 14, currentPrice: 90.50, priceChange: 2.5,
    priceHistory: generatePriceHistory(90.50, 0.9),
    revenue: 5.1, earnings: 0.3, grossMargin: 32.0, peRatio: 46.7,
    suppliers: [],
    customers: ["amzn", "googl", "msft", "anet"],
    riskScore: 30, dependencyCount: 4,
    totalDebt: 4.8, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.2,
    competitivePosition: { position: "market-leader", marketSharePercent: 25, competitors: ["lite", "fn", "cien"], moat: "Leading 800G/1.6T optical transceiver provider riding AI data center buildout", trend: "strengthening" },
  },
  {
    id: "lite", name: "Lumentum Holdings", ticker: "LITE", categories: ["optical-transceivers"],
    description: "Photonic products for optical networking and 3D sensing",
    marketCap: 5.5, currentPrice: 82.30, priceChange: -1.5,
    priceHistory: generatePriceHistory(82.30, 0.8),
    revenue: 1.4, earnings: -0.1, grossMargin: 30.0, peRatio: -55.0,
    suppliers: [],
    customers: ["anet", "csco"],
    riskScore: 42, dependencyCount: 2,
    totalDebt: 2.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.5,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 15, competitors: ["cohr", "fn"], moat: "Strong optical amplifier and transceiver tech transitioning to AI networking", trend: "stable" },
  },
  {
    id: "aaoi", name: "Applied Optoelectronics", ticker: "AAOI", categories: ["optical-transceivers"],
    description: "Fiber-optic transceivers for data centers and CATV",
    marketCap: 1.8, currentPrice: 28.90, priceChange: 3.5,
    priceHistory: generatePriceHistory(28.90, 1.2),
    revenue: 0.3, earnings: -0.02, grossMargin: 22.0, peRatio: -90.0,
    suppliers: [],
    customers: ["amzn", "msft"],
    riskScore: 55, dependencyCount: 2,
    totalDebt: 0.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.1,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 3, competitors: ["cohr", "lite", "fn"], moat: "Vertically integrated optical transceiver maker with hyperscaler relationships", trend: "stable" },
  },
  {
    id: "fn", name: "Fabrinet", ticker: "FN", categories: ["optical-transceivers"],
    description: "Precision optical and electronic manufacturing services",
    marketCap: 10, currentPrice: 275.40, priceChange: 1.2,
    priceHistory: generatePriceHistory(275.40, 0.6),
    revenue: 3.0, earnings: 0.4, grossMargin: 12.5, peRatio: 25.0,
    suppliers: [],
    customers: ["nvda", "cohr", "lite"],
    riskScore: 22, dependencyCount: 3,
    totalDebt: 0.1, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.5,
    competitivePosition: { position: "market-leader", marketSharePercent: 35, competitors: ["lite"], moat: "Dominant contract manufacturer for optical transceivers with unmatched precision", trend: "strengthening" },
  },
  {
    id: "cien", name: "Ciena", ticker: "CIEN", categories: ["optical-transceivers", "networking"],
    description: "Optical networking systems and software",
    marketCap: 10.5, currentPrice: 72.40, priceChange: 0.8,
    priceHistory: generatePriceHistory(72.40, 0.6),
    revenue: 4.1, earnings: 0.4, grossMargin: 45.0, peRatio: 26.3,
    suppliers: [],
    customers: ["amzn", "msft", "googl"],
    riskScore: 25, dependencyCount: 3,
    totalDebt: 1.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.0,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 18, competitors: ["cohr", "anet"], moat: "WaveLogic coherent optics leadership for long-haul and DCI networking", trend: "strengthening" },
  },

  // ─── 12. Networking (Switching / Routing) ───
  {
    id: "anet", name: "Arista Networks", ticker: "ANET", categories: ["networking"],
    description: "High-performance data center networking",
    marketCap: 115, currentPrice: 375.20, priceChange: 1.9,
    priceHistory: generatePriceHistory(375.20, 0.6),
    revenue: 6.7, earnings: 2.6, grossMargin: 64.0, peRatio: 44.2,
    suppliers: ["avgo", "mrvl"],
    customers: ["amzn", "googl", "msft", "orcl"],
    riskScore: 20, dependencyCount: 4,
    totalDebt: 0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 3.4,
    competitivePosition: { position: "market-leader", marketSharePercent: 60, competitors: ["csco"], moat: "Dominant high-speed data center switch provider with software-defined networking edge", trend: "strengthening" },
  },
  {
    id: "csco", name: "Cisco Systems", ticker: "CSCO", categories: ["networking"],
    description: "Enterprise networking and security infrastructure",
    marketCap: 235, currentPrice: 58.20, priceChange: -0.3,
    priceHistory: generatePriceHistory(58.20, 0.3),
    revenue: 53.8, earnings: 12.8, grossMargin: 65.0, peRatio: 18.4,
    suppliers: ["avgo", "mrvl"],
    customers: ["amzn", "msft", "googl"],
    riskScore: 18, dependencyCount: 3,
    totalDebt: 9.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 22.0,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 30, competitors: ["anet"], moat: "Largest overall networking vendor pivoting to AI-era infrastructure and security", trend: "stable" },
  },

  // ─── 13. Server OEM / Rack Integration / ODM ───
  {
    id: "smci", name: "Super Micro Computer", ticker: "SMCI", categories: ["server-oem"],
    description: "AI-optimized server and storage solutions",
    marketCap: 25, currentPrice: 42.80, priceChange: -5.2,
    priceHistory: generatePriceHistory(42.80, 1.5),
    revenue: 14.9, earnings: 0.8, grossMargin: 14.5, peRatio: 31.3,
    suppliers: ["nvda", "amd", "skhynix"],
    customers: ["amzn", "msft"],
    riskScore: 72, dependencyCount: 2,
    totalDebt: 2.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.4,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 8, competitors: ["dell", "hpe", "crst"], moat: "AI-optimized liquid-cooled server racks with rapid deployment capability", trend: "weakening" },
  },
  {
    id: "dell", name: "Dell Technologies", ticker: "DELL", categories: ["server-oem"],
    description: "Enterprise servers, storage, and PC manufacturer",
    marketCap: 95, currentPrice: 128.50, priceChange: 0.4,
    priceHistory: generatePriceHistory(128.50, 0.5),
    revenue: 95.0, earnings: 4.5, grossMargin: 23.0, peRatio: 21.1,
    suppliers: ["nvda", "amd", "intc", "skhynix", "mu"],
    customers: ["amzn", "msft", "googl"],
    riskScore: 22, dependencyCount: 3,
    totalDebt: 22.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 7.2,
    competitivePosition: { position: "market-leader", marketSharePercent: 18, competitors: ["hpe", "smci", "foxconn"], moat: "Largest x86 server vendor with massive enterprise sales channel for AI servers", trend: "strengthening" },
  },
  {
    id: "hpe", name: "Hewlett Packard Enterprise", ticker: "HPE", categories: ["server-oem"],
    description: "Enterprise servers, networking, and edge computing",
    marketCap: 28, currentPrice: 21.30, priceChange: -0.5,
    priceHistory: generatePriceHistory(21.30, 0.5),
    revenue: 31.0, earnings: 2.1, grossMargin: 35.0, peRatio: 13.3,
    suppliers: ["nvda", "amd", "intc", "skhynix", "mu"],
    customers: [],
    riskScore: 28, dependencyCount: 0,
    totalDebt: 13.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 4.0,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 12, competitors: ["dell", "smci"], moat: "Strong enterprise/HPC server brand with Cray supercomputer integration", trend: "stable" },
  },
  {
    id: "crst", name: "Celestica", ticker: "CLS", categories: ["server-oem"],
    description: "Electronics manufacturing for data center hardware",
    marketCap: 12, currentPrice: 98.40, priceChange: -1.5,
    priceHistory: generatePriceHistory(98.40, 1.0),
    revenue: 9.2, earnings: 0.6, grossMargin: 12.0, peRatio: 20.0,
    suppliers: ["nvda"],
    customers: ["amzn"],
    riskScore: 40, dependencyCount: 1,
    totalDebt: 1.1, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.4,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 5, competitors: ["smci", "foxconn"], moat: "Specialized EMS provider with strong data center hardware assembly capabilities", trend: "stable" },
  },
  {
    id: "foxconn", name: "Foxconn", ticker: "2317.TW", categories: ["server-oem"],
    description: "World's largest electronics contract manufacturer",
    marketCap: 65, currentPrice: 5.80, priceChange: 0.8,
    priceHistory: generatePriceHistory(5.80, 0.5),
    revenue: 205.0, earnings: 5.5, grossMargin: 6.5, peRatio: 11.8,
    suppliers: ["nvda", "amd", "intc"],
    customers: ["amzn", "msft", "googl"],
    riskScore: 25, dependencyCount: 3,
    totalDebt: 15.0, preferredStock: 0, minorityInterest: 1.5, cashAndEquivalents: 20.0,
    competitivePosition: { position: "market-leader", marketSharePercent: 25, competitors: ["quanta", "wistron", "crst"], moat: "Largest EMS globally with massive AI server manufacturing ramp", trend: "strengthening" },
  },
  {
    id: "quanta", name: "Quanta Computer", ticker: "2382.TW", categories: ["server-oem"],
    description: "Taiwanese ODM for servers and laptops",
    marketCap: 42, currentPrice: 10.50, priceChange: 0.5,
    priceHistory: generatePriceHistory(10.50, 0.5),
    revenue: 42.0, earnings: 1.5, grossMargin: 7.0, peRatio: 28.0,
    suppliers: ["nvda", "amd"],
    customers: ["amzn", "msft", "googl"],
    riskScore: 22, dependencyCount: 3,
    totalDebt: 3.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 5.5,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 15, competitors: ["foxconn", "wistron"], moat: "Key hyperscaler ODM with growing AI server and liquid cooling capability", trend: "strengthening" },
  },
  {
    id: "wistron", name: "Wistron", ticker: "3231.TW", categories: ["server-oem"],
    description: "Taiwanese electronics ODM and ICT services",
    marketCap: 8.5, currentPrice: 4.20, priceChange: -0.5,
    priceHistory: generatePriceHistory(4.20, 0.5),
    revenue: 28.0, earnings: 0.6, grossMargin: 5.5, peRatio: 14.2,
    suppliers: ["nvda", "intc"],
    customers: ["msft"],
    riskScore: 32, dependencyCount: 1,
    totalDebt: 4.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 3.0,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 6, competitors: ["foxconn", "quanta"], moat: "Diversified ODM with enterprise server and after-market services", trend: "stable" },
  },

  // ─── 14. Data Center Power & Cooling ───
  {
    id: "vrt", name: "Vertiv", ticker: "VRT", categories: ["dc-power-cooling"],
    description: "Data center power and cooling infrastructure",
    marketCap: 42, currentPrice: 110.30, priceChange: 3.2,
    priceHistory: generatePriceHistory(110.30, 0.9),
    revenue: 7.6, earnings: 1.1, grossMargin: 36.0, peRatio: 38.2,
    suppliers: [],
    customers: ["amzn", "googl", "msft", "orcl", "eqix", "dlr"],
    riskScore: 25, dependencyCount: 6,
    totalDebt: 3.8, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.5,
    competitivePosition: { position: "market-leader", marketSharePercent: 22, competitors: ["etn", "se-electric", "abb"], moat: "Leading data center thermal management and power solutions provider", trend: "strengthening" },
  },
  {
    id: "etn", name: "Eaton", ticker: "ETN", categories: ["dc-power-cooling"],
    description: "Power management solutions for data centers",
    marketCap: 125, currentPrice: 310.50, priceChange: 0.6,
    priceHistory: generatePriceHistory(310.50, 0.4),
    revenue: 23.2, earnings: 3.5, grossMargin: 37.0, peRatio: 35.7,
    suppliers: [],
    customers: ["amzn", "msft", "googl", "eqix"],
    riskScore: 12, dependencyCount: 4,
    totalDebt: 8.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.8,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 18, competitors: ["vrt", "se-electric", "abb"], moat: "Broad power management portfolio with UPS and switchgear for data centers", trend: "strengthening" },
  },
  {
    id: "se-electric", name: "Schneider Electric", ticker: "SU.PA", categories: ["dc-power-cooling"],
    description: "Energy management and data center infrastructure",
    marketCap: 120, currentPrice: 245.80, priceChange: 0.2,
    priceHistory: generatePriceHistory(245.80, 0.3),
    revenue: 37.0, earnings: 4.2, grossMargin: 40.0, peRatio: 28.6,
    suppliers: [],
    customers: ["amzn", "msft", "googl", "eqix", "dlr"],
    riskScore: 10, dependencyCount: 5,
    totalDebt: 12.0, preferredStock: 0, minorityInterest: 0.5, cashAndEquivalents: 4.5,
    competitivePosition: { position: "market-leader", marketSharePercent: 20, competitors: ["vrt", "etn", "abb"], moat: "Global leader in electrical distribution and DCIM software for data centers", trend: "stable" },
  },
  {
    id: "abb", name: "ABB", ticker: "ABBN.SW", categories: ["dc-power-cooling"],
    description: "Electrification and automation technology",
    marketCap: 98, currentPrice: 52.40, priceChange: -0.1,
    priceHistory: generatePriceHistory(52.40, 0.3),
    revenue: 32.0, earnings: 3.8, grossMargin: 34.0, peRatio: 25.8,
    suppliers: [],
    customers: ["amzn", "msft", "eqix"],
    riskScore: 12, dependencyCount: 3,
    totalDebt: 7.5, preferredStock: 0, minorityInterest: 0.3, cashAndEquivalents: 4.8,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 15, competitors: ["vrt", "etn", "se-electric"], moat: "Strong medium-voltage and power quality solutions for large-scale data centers", trend: "stable" },
  },
  {
    id: "jci", name: "Johnson Controls", ticker: "JCI", categories: ["dc-power-cooling"],
    description: "Building automation, HVAC, and fire/security systems",
    marketCap: 48, currentPrice: 72.80, priceChange: -0.4,
    priceHistory: generatePriceHistory(72.80, 0.4),
    revenue: 26.0, earnings: 2.0, grossMargin: 33.0, peRatio: 24.0,
    suppliers: [],
    customers: ["amzn", "eqix", "dlr"],
    riskScore: 18, dependencyCount: 3,
    totalDebt: 8.5, preferredStock: 0, minorityInterest: 0.2, cashAndEquivalents: 1.5,
    competitivePosition: { position: "niche-specialist", marketSharePercent: 8, competitors: ["vrt", "se-electric"], moat: "HVAC and building management systems for enterprise data center campuses", trend: "stable" },
  },

  // ─── 15. Data Center Construction / Engineering ───
  {
    id: "flr", name: "Fluor Corporation", ticker: "FLR", categories: ["dc-construction"],
    description: "Engineering and construction services for large-scale projects",
    marketCap: 6.5, currentPrice: 38.50, priceChange: 1.5,
    priceHistory: generatePriceHistory(38.50, 0.7),
    revenue: 16.0, earnings: 0.3, grossMargin: 5.0, peRatio: 21.7,
    suppliers: [],
    customers: ["amzn", "msft", "googl"],
    riskScore: 30, dependencyCount: 3,
    totalDebt: 1.8, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 2.2,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 12, competitors: ["j", "acm"], moat: "Large-scale EPC capability for hyperscaler data center campus builds", trend: "strengthening" },
  },
  {
    id: "j", name: "Jacobs Solutions", ticker: "J", categories: ["dc-construction"],
    description: "Infrastructure engineering and consulting firm",
    marketCap: 18, currentPrice: 142.50, priceChange: 0.3,
    priceHistory: generatePriceHistory(142.50, 0.4),
    revenue: 16.5, earnings: 0.9, grossMargin: 24.0, peRatio: 20.0,
    suppliers: [],
    customers: ["amzn", "googl"],
    riskScore: 20, dependencyCount: 2,
    totalDebt: 3.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.2,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 10, competitors: ["flr", "acm"], moat: "Technical consulting and PM services for mission-critical data center infrastructure", trend: "stable" },
  },
  {
    id: "acm", name: "AECOM", ticker: "ACM", categories: ["dc-construction"],
    description: "Infrastructure advisory and construction management",
    marketCap: 14, currentPrice: 105.20, priceChange: 0.5,
    priceHistory: generatePriceHistory(105.20, 0.4),
    revenue: 14.5, earnings: 0.6, grossMargin: 8.0, peRatio: 23.3,
    suppliers: [],
    customers: ["msft", "googl"],
    riskScore: 22, dependencyCount: 2,
    totalDebt: 3.8, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.0,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 8, competitors: ["flr", "j"], moat: "Global infrastructure design and management for large-scale DC campuses", trend: "stable" },
  },

  // ─── 16. Hyperscalers / AI Cloud Platforms ───
  {
    id: "amzn", name: "Amazon (AWS)", ticker: "AMZN", categories: ["hyperscalers"],
    description: "Largest cloud infrastructure provider via AWS",
    marketCap: 2100, currentPrice: 201.30, priceChange: 0.8,
    priceHistory: generatePriceHistory(201.30, 0.4),
    revenue: 620.0, earnings: 44.4, grossMargin: 48.0, peRatio: 47.3,
    suppliers: ["nvda", "amd", "intc", "avgo", "anet", "vrt", "crst", "smci", "dell", "foxconn", "quanta", "cohr", "cien", "etn", "se-electric"],
    customers: [],
    riskScore: 12, dependencyCount: 0,
    totalDebt: 67.2, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 73.4,
    competitivePosition: { position: "market-leader", marketSharePercent: 31, competitors: ["msft", "googl", "orcl"], moat: "Largest cloud provider with deepest enterprise adoption and global infrastructure", trend: "stable" },
  },
  {
    id: "googl", name: "Alphabet (Google)", ticker: "GOOGL", categories: ["hyperscalers"],
    description: "Google Cloud and custom TPU AI infrastructure",
    marketCap: 2200, currentPrice: 178.50, priceChange: 1.5,
    priceHistory: generatePriceHistory(178.50, 0.4),
    revenue: 350.0, earnings: 86.2, grossMargin: 57.0, peRatio: 25.5,
    suppliers: ["nvda", "amd", "intc", "avgo", "anet", "vrt", "dell", "foxconn", "quanta", "cohr", "cien"],
    customers: [],
    riskScore: 10, dependencyCount: 0,
    totalDebt: 28.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 110.9,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 12, competitors: ["amzn", "msft", "orcl"], moat: "Custom TPU silicon and AI-native cloud with deep integration into Google ecosystem", trend: "strengthening" },
  },
  {
    id: "msft", name: "Microsoft", ticker: "MSFT", categories: ["hyperscalers"],
    description: "Azure cloud and major AI infrastructure investor",
    marketCap: 3100, currentPrice: 416.80, priceChange: 0.6,
    priceHistory: generatePriceHistory(416.80, 0.3),
    revenue: 254.0, earnings: 88.1, grossMargin: 69.0, peRatio: 35.2,
    suppliers: ["nvda", "amd", "intc", "avgo", "anet", "vrt", "smci", "dell", "foxconn", "quanta", "wistron", "cohr", "cien", "etn", "se-electric"],
    customers: [],
    riskScore: 8, dependencyCount: 0,
    totalDebt: 47.0, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 75.5,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 25, competitors: ["amzn", "googl", "orcl"], moat: "Azure + OpenAI partnership creating strongest enterprise AI cloud position", trend: "strengthening" },
  },
  {
    id: "orcl", name: "Oracle", ticker: "ORCL", categories: ["hyperscalers"],
    description: "Enterprise cloud and AI infrastructure provider",
    marketCap: 430, currentPrice: 155.90, priceChange: -2.1,
    priceHistory: generatePriceHistory(155.90, 0.7),
    revenue: 56.1, earnings: 13.8, grossMargin: 72.0, peRatio: 31.2,
    suppliers: ["nvda", "avgo", "anet", "vrt", "dell"],
    customers: [],
    riskScore: 22, dependencyCount: 0,
    totalDebt: 88.4, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 12.9,
    competitivePosition: { position: "emerging-contender", marketSharePercent: 5, competitors: ["amzn", "googl", "msft"], moat: "Aggressive AI infrastructure buildout with multi-cloud database installed base", trend: "strengthening" },
  },

  // ─── 17. Data Center REITs / Colocation ───
  {
    id: "eqix", name: "Equinix", ticker: "EQIX", categories: ["dc-reits"],
    description: "Largest global data center REIT and colocation provider",
    marketCap: 82, currentPrice: 920.50, priceChange: 0.4,
    priceHistory: generatePriceHistory(920.50, 0.4),
    revenue: 8.4, earnings: 1.2, grossMargin: 48.0, peRatio: 68.3,
    suppliers: ["vrt", "etn", "se-electric", "abb", "jci"],
    customers: ["amzn", "msft", "googl"],
    riskScore: 12, dependencyCount: 3,
    totalDebt: 16.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 2.5,
    competitivePosition: { position: "market-leader", marketSharePercent: 25, competitors: ["dlr", "irm"], moat: "Largest global interconnection platform with 260+ data centers across 72 metros", trend: "stable" },
  },
  {
    id: "dlr", name: "Digital Realty", ticker: "DLR", categories: ["dc-reits"],
    description: "Global data center REIT for hyperscale and enterprise",
    marketCap: 52, currentPrice: 175.20, priceChange: -0.3,
    priceHistory: generatePriceHistory(175.20, 0.4),
    revenue: 5.6, earnings: 0.5, grossMargin: 45.0, peRatio: 104.0,
    suppliers: ["vrt", "se-electric", "jci"],
    customers: ["amzn", "msft", "googl", "orcl"],
    riskScore: 15, dependencyCount: 4,
    totalDebt: 17.5, preferredStock: 0, minorityInterest: 0.3, cashAndEquivalents: 1.8,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 15, competitors: ["eqix", "irm"], moat: "Large hyperscale-focused DC REIT with global campus portfolio", trend: "stable" },
  },
  {
    id: "irm", name: "Iron Mountain", ticker: "IRM", categories: ["dc-reits"],
    description: "Data center REIT expanding from records management",
    marketCap: 28, currentPrice: 95.30, priceChange: 0.8,
    priceHistory: generatePriceHistory(95.30, 0.5),
    revenue: 5.8, earnings: 0.4, grossMargin: 38.0, peRatio: 70.0,
    suppliers: ["vrt", "se-electric"],
    customers: ["msft"],
    riskScore: 25, dependencyCount: 1,
    totalDebt: 13.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 0.5,
    competitivePosition: { position: "emerging-contender", marketSharePercent: 5, competitors: ["eqix", "dlr"], moat: "Rapidly growing DC business leveraging real estate expertise and land bank", trend: "strengthening" },
  },

  // ─── 18. Power Generation / Grid ───
  {
    id: "nee", name: "NextEra Energy", ticker: "NEE", categories: ["power-grid"],
    description: "Largest renewable energy generator and utility",
    marketCap: 155, currentPrice: 78.50, priceChange: 0.5,
    priceHistory: generatePriceHistory(78.50, 0.3),
    revenue: 24.5, earnings: 5.2, grossMargin: 55.0, peRatio: 29.8,
    suppliers: [],
    customers: ["amzn", "msft", "googl", "eqix"],
    riskScore: 10, dependencyCount: 4,
    totalDebt: 62.0, preferredStock: 0.5, minorityInterest: 2.0, cashAndEquivalents: 2.5,
    competitivePosition: { position: "market-leader", marketSharePercent: 15, competitors: ["ceg", "duk", "so"], moat: "Largest US renewable energy operator with massive solar/wind portfolio for DC PPAs", trend: "strengthening" },
  },
  {
    id: "ceg", name: "Constellation Energy", ticker: "CEG", categories: ["power-grid"],
    description: "Largest US nuclear fleet operator",
    marketCap: 72, currentPrice: 225.40, priceChange: 2.5,
    priceHistory: generatePriceHistory(225.40, 0.8),
    revenue: 24.0, earnings: 2.8, grossMargin: 35.0, peRatio: 25.7,
    suppliers: [],
    customers: ["msft", "amzn"],
    riskScore: 18, dependencyCount: 2,
    totalDebt: 12.5, preferredStock: 0, minorityInterest: 0, cashAndEquivalents: 1.2,
    competitivePosition: { position: "market-leader", marketSharePercent: 20, competitors: ["nee", "duk", "so"], moat: "Largest US nuclear fleet providing 24/7 carbon-free power for data centers", trend: "strengthening" },
  },
  {
    id: "duk", name: "Duke Energy", ticker: "DUK", categories: ["power-grid"],
    description: "Major US regulated electric utility",
    marketCap: 88, currentPrice: 114.30, priceChange: 0.2,
    priceHistory: generatePriceHistory(114.30, 0.2),
    revenue: 30.0, earnings: 4.0, grossMargin: 48.0, peRatio: 22.0,
    suppliers: [],
    customers: ["amzn", "googl"],
    riskScore: 12, dependencyCount: 2,
    totalDebt: 78.0, preferredStock: 0.3, minorityInterest: 0.5, cashAndEquivalents: 0.5,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 8, competitors: ["nee", "ceg", "so"], moat: "Large regulated utility in data center growth corridors (Carolinas, Indiana)", trend: "stable" },
  },
  {
    id: "so", name: "Southern Company", ticker: "SO", categories: ["power-grid"],
    description: "Major US utility with nuclear and natural gas fleet",
    marketCap: 92, currentPrice: 85.20, priceChange: 0.1,
    priceHistory: generatePriceHistory(85.20, 0.2),
    revenue: 25.0, earnings: 4.2, grossMargin: 50.0, peRatio: 21.9,
    suppliers: [],
    customers: ["msft", "googl"],
    riskScore: 12, dependencyCount: 2,
    totalDebt: 52.0, preferredStock: 0.8, minorityInterest: 2.5, cashAndEquivalents: 1.5,
    competitivePosition: { position: "strong-challenger", marketSharePercent: 7, competitors: ["nee", "ceg", "duk"], moat: "Large Southeast utility with Plant Vogtle nuclear expansion and growing DC load", trend: "stable" },
  },

  // ─── 19. Base Materials ───
  {
    id: "fcx", name: "Freeport-McMoRan", ticker: "FCX", categories: ["base-materials"],
    description: "World's largest publicly traded copper producer",
    marketCap: 65, currentPrice: 45.20, priceChange: -0.8,
    priceHistory: generatePriceHistory(45.20, 0.7),
    revenue: 24.0, earnings: 4.5, grossMargin: 42.0, peRatio: 14.4,
    suppliers: [],
    customers: [],
    riskScore: 22, dependencyCount: 0,
    totalDebt: 3.5, preferredStock: 0, minorityInterest: 3.2, cashAndEquivalents: 5.0,
    competitivePosition: { position: "market-leader", marketSharePercent: 8, competitors: ["bhp", "rio"], moat: "Largest copper miner — copper is critical for power delivery in data centers", trend: "stable" },
  },
  {
    id: "bhp", name: "BHP Group", ticker: "BHP", categories: ["base-materials"],
    description: "Diversified global mining company",
    marketCap: 150, currentPrice: 58.30, priceChange: -0.5,
    priceHistory: generatePriceHistory(58.30, 0.4),
    revenue: 53.0, earnings: 13.5, grossMargin: 52.0, peRatio: 11.1,
    suppliers: [],
    customers: [],
    riskScore: 15, dependencyCount: 0,
    totalDebt: 12.0, preferredStock: 0, minorityInterest: 2.8, cashAndEquivalents: 10.5,
    competitivePosition: { position: "market-leader", marketSharePercent: 12, competitors: ["fcx", "rio"], moat: "Diversified mining giant with major copper, iron ore, and potash operations", trend: "stable" },
  },
  {
    id: "rio", name: "Rio Tinto", ticker: "RIO", categories: ["base-materials"],
    description: "Global mining group focused on iron ore, copper, aluminium",
    marketCap: 115, currentPrice: 68.50, priceChange: -0.3,
    priceHistory: generatePriceHistory(68.50, 0.4),
    revenue: 54.0, earnings: 11.8, grossMargin: 45.0, peRatio: 9.7,
    suppliers: [],
    customers: [],
    riskScore: 15, dependencyCount: 0,
    totalDebt: 11.5, preferredStock: 0, minorityInterest: 3.5, cashAndEquivalents: 9.2,
    competitivePosition: { position: "market-leader", marketSharePercent: 10, competitors: ["fcx", "bhp"], moat: "Major copper and aluminium producer critical for power grid and DC infrastructure", trend: "stable" },
  },
];

export function getCompanyById(id: string): Company | undefined {
  return companies.find((c) => c.id === id);
}

export function getCompaniesByCategory(category: CompanyCategory): Company[] {
  return companies.filter((c) => c.categories.includes(category));
}

/** Returns the primary (first) category of a company */
export function getPrimaryCategory(company: Company): CompanyCategory {
  return company.categories[0];
}

export interface Alert {
  id: string;
  companyId: string;
  type: "earnings-miss" | "price-drop" | "supply-risk";
  message: string;
  severity: "warning" | "critical";
  timestamp: string;
}

export const alerts: Alert[] = [
  { id: "a1", companyId: "smci", type: "price-drop", message: "SMCI down 5.2% — accounting concerns persist", severity: "critical", timestamp: "2h ago" },
  { id: "a2", companyId: "intc", type: "earnings-miss", message: "Intel Q4 earnings miss, foundry losses widen", severity: "critical", timestamp: "5h ago" },
  { id: "a3", companyId: "orcl", type: "price-drop", message: "Oracle drops 2.1% on cloud growth slowdown fears", severity: "warning", timestamp: "8h ago" },
  { id: "a4", companyId: "crst", type: "supply-risk", message: "Celestica: single customer concentration risk (Amazon)", severity: "warning", timestamp: "1d ago" },
  { id: "a5", companyId: "asml", type: "supply-risk", message: "ASML: sole EUV supplier — 5 foundries/memory fabs depend on it", severity: "warning", timestamp: "2d ago" },
  { id: "a6", companyId: "skhynix", type: "price-drop", message: "SK hynix rallies 2.8% on HBM3E capacity expansion news", severity: "warning", timestamp: "3h ago" },
  { id: "a7", companyId: "ceg", type: "supply-risk", message: "Constellation Energy surges on nuclear power demand for AI data centers", severity: "warning", timestamp: "6h ago" },
];
